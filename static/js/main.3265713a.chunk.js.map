{"version":3,"sources":["components/Square/index.js","components/App/index.js","index.js"],"names":["Wrapper","styled","div","Container","Table","table","Cell","td","cellSize","Button","AddButtons","RemoveButtons","AddRowButton","AddColumnButton","RemoveRowButton","buttonsVisible","currentRowIndex","RemoveColumnButton","currentCellIndex","Square","props","createSquare","newRows","newColumns","initialHeight","initialWidth","cells","uniqueKey","rows","setState","columns","onDragStart","clientX","clientY","document","addEventListener","onDragging","offsetX","containerRef","current","getBoundingClientRect","left","offsetY","top","pageX","pageY","style","onDragEnd","removeEventListener","movingButtons","target","tagName","cellIndex","parentNode","rowIndex","createColumn","state","concat","createRow","deleteColumn","lastCellIndex","length","prevState","removeColumnButtonDisplay","filter","cell","idx","deleteRow","lastRowIndex","removeRowButtonDisplay","row","showButtons","hideButtons","React","createRef","this","console","log","ref","onMouseOver","onMouseEnter","onMouseLeave","onMouseDown","map","key","data-test","onClick","Component","GlobalContainer","App","ReactDOM","render","getElementById"],"mappings":"wjEAIA,IAAMA,EAAUC,IAAOC,IAAV,KAOPC,EAAYF,IAAOC,IAAV,KAKTE,EAAQH,IAAOI,MAAV,KAMLC,EAAOL,IAAOM,GAAV,KACE,qBAAGC,YACA,qBAAGA,YACF,qBAAGA,YASbC,EAASR,IAAOC,IAAV,KAMA,qBAAGM,YACJ,qBAAGA,YAKC,qBAAGA,SAA0B,KAiBtCE,EAAaT,YAAOQ,EAAPR,CAAH,KAIVU,EAAgBV,YAAOQ,EAAPR,CAAH,KAObW,EAAeX,YAAOS,EAAPT,CAAH,KAKZY,EAAkBZ,YAAOS,EAAPT,CAAH,KAKfa,EAAkBb,YAAOU,EAAPV,CAAH,KACL,mBACO,IADP,EAAGc,eACW,UAAY,YAC7B,mBAA4C,IAA5C,EAAGA,eAAgD,EAAI,KAE3D,gBAAGP,EAAH,EAAGA,SAAUQ,EAAb,EAAaA,gBAAb,OACLR,EAAWQ,EAAkB,EAAIA,KAK/BC,EAAqBhB,YAAOU,EAAPV,CAAH,KACR,mBACO,IADP,EAAGc,eACW,UAAY,YAC7B,mBAA4C,IAA5C,EAAGA,eAAgD,EAAI,KAG1D,gBAAGP,EAAH,EAAGA,SAAUU,EAAb,EAAaA,iBAAb,OACNV,EAAWU,EAAmB,EAAIA,KAIjBC,E,YACnB,WAAYC,GAAQ,IAAD,8BACjB,4CAAMA,KAiCRC,aAAe,WAMb,IALA,IAAMC,EAAU,GACVC,EAAa,GAFA,EAIqB,EAAKH,MAArCI,EAJW,EAIXA,cAAeC,EAJJ,EAIIA,aAEdC,EAAQ,EAAGA,EAAQD,EAAcC,IACxCH,EAAWG,GAAS,EAAKC,YAG3B,IAAK,IAAIC,EAAO,EAAGA,EAAOJ,EAAeI,IACvCN,EAAQM,GAAQ,EAAKD,YAGvB,EAAKE,SAAS,CACZD,KAAMN,EACNQ,QAASP,KAlDM,EAsDnBQ,YAAc,YAA2B,IAAxBC,EAAuB,EAAvBA,QAASC,EAAc,EAAdA,QACxBC,SAASC,iBAAiB,YAAa,EAAKC,YAE5C,EAAKC,QACHL,EAAU,EAAKM,aAAaC,QAAQC,wBAAwBC,KAC9D,EAAKC,QACHT,EAAU,EAAKK,aAAaC,QAAQC,wBAAwBG,KA5D7C,EA+DnBP,WAAa,YAAuB,IAApBQ,EAAmB,EAAnBA,MAAOC,EAAY,EAAZA,MACrB,EAAKP,aAAaC,QAAQO,MAAML,KAAOG,EAAQ,EAAKP,QAAU,KAC9D,EAAKC,aAAaC,QAAQO,MAAMH,IAAME,EAAQ,EAAKH,QAAU,MAjE5C,EAoEnBK,UAAY,WACVb,SAASc,oBAAoB,YAAa,EAAKZ,aArE9B,EAwEnBa,cAAgB,YAAiB,IAAdC,EAAa,EAAbA,OACM,OAAnBA,EAAOC,SACT,EAAKtB,SAAS,CACZX,iBAAkBgC,EAAOE,UACzBpC,gBAAiBkC,EAAOG,WAAWC,YA5EtB,EAiFnBC,aAAe,WAAO,IACZzB,EAAY,EAAK0B,MAAjB1B,QAER,EAAKD,SAAS,CACZC,QAASA,EAAQ2B,OAAO,EAAK9B,gBArFd,EAyFnB+B,UAAY,WAAO,IACT9B,EAAS,EAAK4B,MAAd5B,KAER,EAAKC,SAAS,CACZD,KAAMA,EAAK6B,OAAO,EAAK9B,gBA7FR,EAiGnBgC,aAAe,WAAO,IAAD,EACmB,EAAKH,MAAnCtC,EADW,EACXA,iBAAkBY,EADP,EACOA,QACpB8B,EAAgB9B,EAAQ+B,OAAS,EAEvC,EAAKhC,UAAS,SAAAiC,GAAS,MAAK,CAC1BC,4BAA2BH,GAAiB,GAE5C9B,QACEA,EAAQ+B,OAAS,EACbC,EAAUhC,QAAQkC,QAAO,SAACC,EAAMC,GAAP,OAAeA,IAAQhD,KAChD4C,EAAUhC,QAEhBZ,iBACEA,IAAqB0C,EACjBE,EAAU5C,iBAAmB,EAC7B4C,EAAU5C,sBAhHD,EAoHnBiD,UAAY,WAAO,IAAD,EACkB,EAAKX,MAA/BxC,EADQ,EACRA,gBAAiBY,EADT,EACSA,KACnBwC,EAAexC,EAAKiC,OAAS,EAEnC,EAAKhC,UAAS,SAAAiC,GAAS,MAAK,CAC1BO,yBAAwBD,GAAgB,GAExCxC,KACEA,EAAKiC,OAAS,EACVC,EAAUlC,KAAKoC,QAAO,SAACM,EAAKJ,GAAN,OAAcA,IAAQlD,KAC5C8C,EAAUlC,KAEhBZ,gBACEA,IAAoBoD,EAChBN,EAAU9C,gBAAkB,EAC5B8C,EAAU9C,qBAnID,EAuInBuD,YAAc,WAAO,IAAD,EACQ,EAAKf,MAAvB5B,EADU,EACVA,KAAME,EADI,EACJA,QAEd,EAAKD,SAAS,CACZd,eACEa,EAAKiC,OAAS,GAAW/B,EAAQ+B,OAAS,EAE5CQ,uBAAwBzC,EAAKiC,OAAS,EAEtCE,0BAA2BjC,EAAQ+B,OAAS,KAhJ7B,EAoJnBW,YAAc,WACZ,EAAK3C,SAAS,CACZd,gBAAgB,KAnJlB,EAAKyC,MAAQ,CACX5B,KAAM,GACNE,QAAS,GAETZ,iBAAkB,EAClBF,gBAAiB,EAEjBD,gBAAgB,EAChBsD,wBAAwB,EACxBN,2BAA2B,GAG7B,EAAKzB,aAAemC,IAAMC,YAE1B,EAAK/C,UAAY,EAEjB,EAAKU,QAAU,EACf,EAAKK,QAAU,EApBE,E,iFAwBjBiC,KAAKtD,eACLa,SAASC,iBAAiB,UAAWwC,KAAK5B,WAC1C6B,QAAQC,IAAI,2D,6CAIZ3C,SAASc,oBAAoB,UAAW2B,KAAK5B,WAC7Cb,SAASc,oBAAoB,YAAa2B,KAAKvC,c,+BA2HvC,IACA5B,EAAamE,KAAKvD,MAAlBZ,SADD,EAWHmE,KAAKnB,MAPP5B,EAJK,EAILA,KACAE,EALK,EAKLA,QACAf,EANK,EAMLA,eACAsD,EAPK,EAOLA,uBACAN,EARK,EAQLA,0BACA/C,EATK,EASLA,gBACAE,EAVK,EAULA,iBAGF,OACE,kBAAClB,EAAD,KACE,kBAACG,EAAD,CAAW2E,IAAKH,KAAKrC,aAAcyC,YAAaJ,KAAK1B,eACnD,yBAAK+B,aAAcL,KAAKJ,YAAaU,aAAcN,KAAKH,aACtD,kBAACpE,EAAD,CAAO8E,YAAaP,KAAK5C,YAAaA,YAAa,kBAAM,IACvD,+BACGH,EAAKuD,KAAI,SAAAb,GAAG,OACX,wBAAIc,IAAG,cAASd,GAAOe,YAAU,OAC9BvD,EAAQqD,KAAI,SAAAlB,GAAI,OACf,kBAAC3D,EAAD,CACE+E,YAAU,OACVD,IAAG,eAAUnB,GACbzD,SAAUA,aAQrB6D,GACC,kBAACvD,EAAD,CACEuE,YAAU,oBACVC,QAASX,KAAKR,UACd3D,SAAUA,EACVQ,gBAAiBA,EACjBD,eAAgBA,GALlB,KAWDgD,GACC,kBAAC9C,EAAD,CACEoE,YAAU,uBACVC,QAASX,KAAKhB,aACdnD,SAAUA,EACVU,iBAAkBA,EAClBH,eAAgBA,GALlB,MAWJ,kBAACH,EAAD,CACEyE,YAAU,iBACV7E,SAAUA,EACV8E,QAASX,KAAKjB,WAHhB,KAOA,kBAAC7C,EAAD,CACEwE,YAAU,oBACV7E,SAAUA,EACV8E,QAASX,KAAKpB,cAHhB,W,GA3N0BkB,IAAMc,W,kJCtG1C,IAAMC,EAAkBvF,IAAOC,IAAV,KAeNuF,MATf,WACE,OACE,kBAACD,EAAD,KACE,kBAAC,EAAD,CAAQ/D,aAAc,EAAGD,cAAe,EAAGhB,SAAU,KACrD,kBAAC,EAAD,CAAQiB,aAAc,EAAGD,cAAe,EAAGhB,SAAU,OCV3DkF,IAASC,OAAO,kBAAC,EAAD,MAASzD,SAAS0D,eAAe,W","file":"static/js/main.3265713a.chunk.js","sourcesContent":["import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport styled from \"styled-components\";\n\nconst Wrapper = styled.div`\n  display: flex;\n  justify-content: center;\n\n  user-select: none;\n`;\n\nconst Container = styled.div`\n  position: absolute;\n  user-select: none;\n`;\n\nconst Table = styled.table`\n  border: 1px solid #48aae6;\n  cursor: grab;\n  user-select: none;\n`;\n\nconst Cell = styled.td`\n  height: ${({ cellSize }) => cellSize}px;\n  min-width: ${({ cellSize }) => cellSize}px;\n  min-height: ${({ cellSize }) => cellSize}px;\n\n  padding: 0;\n\n  background-color: #48aae6;\n\n  user-select: none;\n`;\n\nconst Button = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  position: absolute;\n\n  height: ${({ cellSize }) => cellSize}px;\n  width: ${({ cellSize }) => cellSize}px;\n  margin: 2px;\n\n  color: #ffffff;\n\n  font-size: ${({ cellSize }) => cellSize / 2}px;\n  font-weight: bold;\n  text-align: center;\n\n  opacity: 1;\n\n  transition-duration: 0.6s;\n  cursor: pointer;\n\n  user-select: none;\n\n  &:hover {\n    opacity: 0.8;\n    transition-duration: 0.5s;\n  }\n`;\n\nconst AddButtons = styled(Button)`\n  background-color: #f3a500;\n`;\n\nconst RemoveButtons = styled(Button)`\n  visibility: hidden;\n  opacity: 0;\n\n  background-color: #b20000;\n`;\n\nconst AddRowButton = styled(AddButtons)`\n  top: 100%;\n  left: 1px;\n`;\n\nconst AddColumnButton = styled(AddButtons)`\n  top: 1px;\n  left: 100%;\n`;\n\nconst RemoveRowButton = styled(RemoveButtons)`\n  visibility: ${({ buttonsVisible }) =>\n    buttonsVisible === true ? \"visible\" : \"hidden\"};\n  opacity: ${({ buttonsVisible }) => (buttonsVisible === true ? 1 : 0)};\n\n  top: ${({ cellSize, currentRowIndex }) =>\n    cellSize * currentRowIndex + 2 * currentRowIndex}px;\n  right: 100%;\n  margin: 3px 2px;\n`;\n\nconst RemoveColumnButton = styled(RemoveButtons)`\n  visibility: ${({ buttonsVisible }) =>\n    buttonsVisible === true ? \"visible\" : \"hidden\"};\n  opacity: ${({ buttonsVisible }) => (buttonsVisible === true ? 1 : 0)};\n\n  bottom: 100%;\n  left: ${({ cellSize, currentCellIndex }) =>\n    cellSize * currentCellIndex + 2 * currentCellIndex}px;\n  margin: 2px 3px;\n`;\n\nexport default class Square extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      rows: [],\n      columns: [],\n\n      currentCellIndex: 0,\n      currentRowIndex: 0,\n\n      buttonsVisible: false,\n      removeRowButtonDisplay: true,\n      removeColumnButtonDisplay: true\n    };\n\n    this.containerRef = React.createRef();\n\n    this.uniqueKey = 0;\n\n    this.offsetX = 0;\n    this.offsetY = 0;\n  }\n\n  componentDidMount() {\n    this.createSquare();\n    document.addEventListener(\"mouseup\", this.onDragEnd);\n    console.log(\"Version [release[1.0]]. Created at 19.11.2019, 16:35.\")\n  }\n\n  componentWillUnmount() {\n    document.removeEventListener(\"mouseup\", this.onDragEnd);\n    document.removeEventListener(\"mousemove\", this.onDragging);\n  }\n\n  createSquare = () => {\n    const newRows = [];\n    const newColumns = [];\n\n    const { initialHeight, initialWidth } = this.props;\n\n    for (let cells = 0; cells < initialWidth; cells++) {\n      newColumns[cells] = this.uniqueKey++;\n    }\n\n    for (let rows = 0; rows < initialHeight; rows++) {\n      newRows[rows] = this.uniqueKey++;\n    }\n\n    this.setState({\n      rows: newRows,\n      columns: newColumns\n    });\n  };\n\n  onDragStart = ({ clientX, clientY }) => {\n    document.addEventListener(\"mousemove\", this.onDragging);\n\n    this.offsetX =\n      clientX - this.containerRef.current.getBoundingClientRect().left;\n    this.offsetY =\n      clientY - this.containerRef.current.getBoundingClientRect().top;\n  };\n\n  onDragging = ({ pageX, pageY }) => {\n    this.containerRef.current.style.left = pageX - this.offsetX + \"px\";\n    this.containerRef.current.style.top = pageY - this.offsetY + \"px\";\n  };\n\n  onDragEnd = () => {\n    document.removeEventListener(\"mousemove\", this.onDragging);\n  };\n\n  movingButtons = ({ target }) => {\n    if (target.tagName === \"TD\") {\n      this.setState({\n        currentCellIndex: target.cellIndex,\n        currentRowIndex: target.parentNode.rowIndex\n      });\n    }\n  };\n\n  createColumn = () => {\n    const { columns } = this.state;\n\n    this.setState({\n      columns: columns.concat(this.uniqueKey++)\n    });\n  };\n\n  createRow = () => {\n    const { rows } = this.state;\n\n    this.setState({\n      rows: rows.concat(this.uniqueKey++)\n    });\n  };\n\n  deleteColumn = () => {\n    const { currentCellIndex, columns } = this.state;\n    const lastCellIndex = columns.length - 1;\n\n    this.setState(prevState => ({\n      removeColumnButtonDisplay: lastCellIndex <= 1 ? false : true,\n\n      columns:\n        columns.length > 1\n          ? prevState.columns.filter((cell, idx) => idx !== currentCellIndex)\n          : prevState.columns,\n\n      currentCellIndex:\n        currentCellIndex === lastCellIndex\n          ? prevState.currentCellIndex - 1\n          : prevState.currentCellIndex\n    }));\n  };\n\n  deleteRow = () => {\n    const { currentRowIndex, rows } = this.state;\n    const lastRowIndex = rows.length - 1;\n\n    this.setState(prevState => ({\n      removeRowButtonDisplay: lastRowIndex <= 1 ? false : true,\n\n      rows:\n        rows.length > 1\n          ? prevState.rows.filter((row, idx) => idx !== currentRowIndex)\n          : prevState.rows,\n\n      currentRowIndex:\n        currentRowIndex === lastRowIndex\n          ? prevState.currentRowIndex - 1\n          : prevState.currentRowIndex\n    }));\n  };\n\n  showButtons = () => {\n    const { rows, columns } = this.state;\n\n    this.setState({\n      buttonsVisible:\n        rows.length > 1 ? true : columns.length > 1 ? true : false,\n\n      removeRowButtonDisplay: rows.length > 1 ? true : false,\n\n      removeColumnButtonDisplay: columns.length > 1 ? true : false\n    });\n  };\n\n  hideButtons = () => {\n    this.setState({\n      buttonsVisible: false\n    });\n  };\n\n  render() {\n    const { cellSize } = this.props;\n\n    const {\n      rows,\n      columns,\n      buttonsVisible,\n      removeRowButtonDisplay,\n      removeColumnButtonDisplay,\n      currentRowIndex,\n      currentCellIndex\n    } = this.state;\n\n    return (\n      <Wrapper>\n        <Container ref={this.containerRef} onMouseOver={this.movingButtons}>\n          <div onMouseEnter={this.showButtons} onMouseLeave={this.hideButtons}>\n            <Table onMouseDown={this.onDragStart} onDragStart={() => false}>\n              <tbody>\n                {rows.map(row => (\n                  <tr key={`row-${row}`} data-test=\"row\">\n                    {columns.map(cell => (\n                      <Cell\n                        data-test=\"cell\"\n                        key={`cell-${cell}`}\n                        cellSize={cellSize}\n                      />\n                    ))}\n                  </tr>\n                ))}\n              </tbody>\n            </Table>\n\n            {removeRowButtonDisplay && (\n              <RemoveRowButton\n                data-test=\"remove-row-button\"\n                onClick={this.deleteRow}\n                cellSize={cellSize}\n                currentRowIndex={currentRowIndex}\n                buttonsVisible={buttonsVisible}\n              >\n                -\n              </RemoveRowButton>\n            )}\n\n            {removeColumnButtonDisplay && (\n              <RemoveColumnButton\n                data-test=\"remove-column-button\"\n                onClick={this.deleteColumn}\n                cellSize={cellSize}\n                currentCellIndex={currentCellIndex}\n                buttonsVisible={buttonsVisible}\n              >\n                -\n              </RemoveColumnButton>\n            )}\n          </div>\n          <AddRowButton\n            data-test=\"add-row-button\"\n            cellSize={cellSize}\n            onClick={this.createRow}\n          >\n            +\n          </AddRowButton>\n          <AddColumnButton\n            data-test=\"add-column-button\"\n            cellSize={cellSize}\n            onClick={this.createColumn}\n          >\n            +\n          </AddColumnButton>\n        </Container>\n      </Wrapper>\n    );\n  }\n}\n\nSquare.propTypes = {\n  cellSize: PropTypes.number.isRequired,\n  initialHeight: PropTypes.number.isRequired,\n  initialWidth: PropTypes.number.isRequired\n};\n","import React from \"react\";\nimport Square from \"../Square\";\nimport styled from \"styled-components\";\n\nconst GlobalContainer = styled.div`\n  display: flex;\n  justify-content: space-around;\n  padding-top: 150px;\n`;\n\nfunction App() {\n  return (\n    <GlobalContainer>\n      <Square initialWidth={4} initialHeight={4} cellSize={50} />\n      <Square initialWidth={4} initialHeight={4} cellSize={50} />\n    </GlobalContainer>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./components/App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}